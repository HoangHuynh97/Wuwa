'use strict';var a0_0x53c401=a0_0x30d3,a0_0x5bb605=a0_0x30d3,a0_0x4cffbf=a0_0x30d3;(function(_0x31b949,_0x3c5ae6){var _0x1c3ad3=a0_0x30d3,_0x10f0fc=a0_0x30d3,_0x41bf19=a0_0x30d3,_0x3d9dfb=_0x31b949();while(!![]){try{var _0x4729d2=-parseInt(_0x1c3ad3(0xea))/0x1+-parseInt(_0x1c3ad3(0xf6))/0x2+-parseInt(_0x10f0fc(0x11a))/0x3*(-parseInt(_0x10f0fc(0xfe))/0x4)+-parseInt(_0x41bf19(0x116))/0x5*(-parseInt(_0x10f0fc(0x11f))/0x6)+-parseInt(_0x41bf19(0xe9))/0x7+parseInt(_0x41bf19(0xee))/0x8+-parseInt(_0x41bf19(0x110))/0x9;if(_0x4729d2===_0x3c5ae6)break;else _0x3d9dfb['push'](_0x3d9dfb['shift']());}catch(_0x31eef2){_0x3d9dfb['push'](_0x3d9dfb['shift']());}}}(a0_0x2efc,0x559a8));var _a;Object['defineProperty'](exports,'__esModule',{'value':!0x0}),exports['PerfSightController']=void 0x0;const cpp_1=require('cpp'),UE=require('ue'),Info_1=require(a0_0x53c401(0x111)),Log_1=require('../../Core/Common/Log'),Stats_1=require(a0_0x53c401(0x112)),CommonDefine_1=require(a0_0x5bb605(0x102)),EntitySystem_1=require('../../Core/Entity/EntitySystem'),ControllerBase_1=require('../../Core/Framework/ControllerBase'),PerfSight_1=require('../../Core/PerfSight/PerfSight'),TimerSystem_1=require(a0_0x53c401(0x100)),EventDefine_1=require('../Common/Event/EventDefine'),EventSystem_1=require('../Common/Event/EventSystem'),LocalStorage_1=require(a0_0x53c401(0x123)),LocalStorageDefine_1=require(a0_0x4cffbf(0x10c)),Global_1=require('../Global'),ControllerHolder_1=require(a0_0x4cffbf(0x101)),ModelManager_1=require(a0_0x53c401(0xf5)),BOSS_TYPE=0x2;function a0_0x30d3(_0x1cda90,_0x4a74be){var _0x2efc5a=a0_0x2efc();return a0_0x30d3=function(_0x30d37b,_0x13b5ef){_0x30d37b=_0x30d37b-0xe3;var _0x1957a0=_0x2efc5a[_0x30d37b];return _0x1957a0;},a0_0x30d3(_0x1cda90,_0x4a74be);}function a0_0x2efc(){var _0x2b1330=['IsMobilePlatform','zua','MILLIONSECOND_PER_SECOND','EEventName','ELocalStorageGlobalKey','OnClear','ControllerBase','897716FhluGS','RealTimeTimerSystem','../../Core/Timer/TimerSystem','../Manager/ControllerHolder','../../Core/Define/CommonDefine','oWe','PerfSightController.PositionTimer,请检查','PerfSight','IsInInstance','GetComponent','开始录制MarkLevelLoad\x20Persistent','GetGlobal','Error','awa','../Common/LocalStorageDefine','MarkLevelLoadCompleted','EntitySystem','aCe','1792215acXptA','../../Core/Common/Info','../../Core/Common/Stats','Battle_','Info','OnAggroRemoved','5MgHkmb','size','EventSystem','MarkLevelLoad','9DTTTtD','IsEnable','swa','开始录制MarkLevelLoad','StartPersistentOrDungeon','2554086Hbkigx','ControllerHolder','BeginExtTag','eca','../Common/LocalStorage','GetAppVersion','Wvi','MarkLevelFin','GetPbDataId','CreatureData','OnTick','Get','GameModeController','3713430XankFW','77607PJaGnj','当前母包_热更版本号','Remove','SetPcAppVersion','3263568ebPSJc','Performance','Log','Battle','delete','Zua','CreatureModel','../Manager/ModelManager','698100PaKtzO'];a0_0x2efc=function(){return _0x2b1330;};return a0_0x2efc();}class PerfSightController extends ControllerBase_1[a0_0x53c401(0xfd)]{static['OnInit'](){var _0x210df7=a0_0x4cffbf,_0x2e41a2=a0_0x5bb605,_0x3009a4=a0_0x4cffbf;if(PerfSight_1['PerfSight']['IsEnable']){var _0x47d38e=UE['KuroLauncherLibrary'][_0x210df7(0x124)](),_0x47d38e=_0x47d38e+'_'+LocalStorage_1['LocalStorage'][_0x2e41a2(0x109)](LocalStorageDefine_1[_0x210df7(0xfb)]['PatchVersion'],_0x47d38e);if(Log_1['Log']['CheckInfo']()&&Log_1[_0x2e41a2(0xf0)][_0x2e41a2(0x114)](_0x2e41a2(0xef),0x37,_0x3009a4(0xeb),['version',_0x47d38e]),Info_1['Info']['IsPcOrGamepadPlatform']())PerfSight_1[_0x2e41a2(0x105)][_0x2e41a2(0xed)](_0x47d38e);else{if(!Info_1['Info'][_0x3009a4(0xf7)]())return!0x0;PerfSight_1['PerfSight']['SetVersionIden'](_0x47d38e);}}return!0x0;}static[a0_0x4cffbf(0xfc)](){var _0x54f48f=a0_0x53c401,_0x299830=a0_0x53c401,_0x435408=a0_0x5bb605;return PerfSight_1['PerfSight'][_0x54f48f(0x11b)]&&(PerfSight_1['PerfSight']['MarkLevelFin'](),PerfSightController['aCe'](),PerfSightController['zua'](),PerfSightController[_0x54f48f(0x11c)]()),super[_0x54f48f(0xfc)]();}static[a0_0x5bb605(0x11c)](){var _0x435c91=a0_0x4cffbf,_0x5dc59b=a0_0x5bb605;if(0x0<this['oWe'][_0x435c91(0x117)]){for(const _0x1a753d of this['oWe'])this['awa'](_0x1a753d,!0x1);this[_0x435c91(0x103)]['clear']();}}static[a0_0x53c401(0xf3)](){var _0x3e49c0=a0_0x53c401,_0x5b4573=a0_0x53c401,_0x33729a=a0_0x5bb605;PerfSightController['zua'](),PerfSightController[_0x3e49c0(0x122)]?Log_1['Log']['CheckError']()&&Log_1['Log'][_0x3e49c0(0x10a)]('Performance',0x37,_0x33729a(0x104)):PerfSightController['eca']=TimerSystem_1['RealTimeTimerSystem']['Forever'](PerfSightController['tca'],CommonDefine_1[_0x5b4573(0xf9)]);}static[a0_0x5bb605(0xf8)](){var _0x10e759=a0_0x5bb605,_0x11c6fa=a0_0x53c401,_0x27fcdb=a0_0x5bb605;PerfSightController['eca']&&(TimerSystem_1[_0x10e759(0xff)][_0x10e759(0xec)](PerfSightController[_0x27fcdb(0x122)]),PerfSightController[_0x27fcdb(0x122)]=void 0x0);}static['sCe'](){}static[a0_0x53c401(0x10f)](){var _0x2bb174=a0_0x5bb605,_0x339b0d=a0_0x4cffbf,_0x457993=a0_0x5bb605;EventSystem_1['EventSystem'][_0x2bb174(0xec)](EventDefine_1[_0x339b0d(0xfa)]['OnGetPlayerBasicInfo'],PerfSightController['Wvi']),EventSystem_1[_0x2bb174(0x118)]['Remove'](EventDefine_1[_0x339b0d(0xfa)]['OnBattleStateChanged'],PerfSightController['Zpe']),EventSystem_1['EventSystem'][_0x2bb174(0xec)](EventDefine_1['EEventName']['OnAggroAdd'],this['lWe']),EventSystem_1[_0x339b0d(0x118)]['Remove'](EventDefine_1['EEventName'][_0x339b0d(0x115)],this['cWe']);}static[a0_0x53c401(0x11e)](){var _0x3f2c69=a0_0x53c401,_0x31c23e=a0_0x4cffbf,_0x5b7e0a=a0_0x4cffbf,_0x1f7e82;PerfSight_1['PerfSight']['MarkLevelFin'](),Log_1[_0x3f2c69(0xf0)]['CheckInfo']()&&Log_1['Log'][_0x31c23e(0x114)]('Performance',0x37,_0x3f2c69(0xe3)),ControllerHolder_1[_0x31c23e(0x120)][_0x31c23e(0xe8)][_0x3f2c69(0x106)]()?(_0x1f7e82='Dungeon_'+ModelManager_1['ModelManager'][_0x31c23e(0xf4)]['GetInstanceId'](),Log_1['Log']['CheckInfo']()&&Log_1['Log']['Info']('Performance',0x37,_0x5b7e0a(0x11d),['tagName',_0x1f7e82]),PerfSight_1['PerfSight'][_0x5b7e0a(0x119)](_0x1f7e82)):(Log_1['Log']['CheckInfo']()&&Log_1['Log']['Info'](_0x5b7e0a(0xef),0x37,_0x3f2c69(0x108)),PerfSight_1[_0x3f2c69(0x105)][_0x5b7e0a(0x119)]('Persistent'));}static[a0_0x53c401(0x10d)](){var _0x489c5c=a0_0x53c401,_0x4cae93=a0_0x4cffbf,_0x479fc2=a0_0x53c401;Log_1['Log']['CheckInfo']()&&Log_1[_0x489c5c(0xf0)]['Info']('Performance',0x37,'MarkLevelLoadCompleted'),PerfSight_1[_0x4cae93(0x105)][_0x4cae93(0x10d)]();}static[a0_0x4cffbf(0x10b)](_0x248c7b,_0x2e69ba){var _0x128fa5=a0_0x4cffbf,_0x2aa634=a0_0x53c401,_0x214348=a0_0x4cffbf,_0x263c18,_0x40204d=EntitySystem_1[_0x128fa5(0x10e)][_0x2aa634(0xe7)](_0x248c7b);_0x40204d&&(_0x40204d=_0x40204d[_0x214348(0x107)](0x3)?.[_0x2aa634(0xe5)])&&(_0x263c18=_0x40204d['GetBaseInfo']())&&_0x263c18['Category']['MonsterMatchType']>=BOSS_TYPE&&(_0x2e69ba?(cpp_1['FKuroPerfSightHelper']['BeginExtTag'](_0x2aa634(0x113)+_0x40204d['GetModelConfig']()['描述']+'_'+_0x40204d['GetPbDataId']()),this[_0x214348(0x103)]['add'](_0x248c7b)):(cpp_1['FKuroPerfSightHelper']['EndExtTag']('Battle_'+_0x40204d['GetModelConfig']()['描述']+'_'+_0x40204d[_0x214348(0xe4)]()),this[_0x214348(0x103)][_0x128fa5(0xf2)](_0x248c7b)));}static[a0_0x4cffbf(0xe6)](_0x1a22be){}}exports['PerfSightController']=PerfSightController,(_a=PerfSightController)['IsTickEvenPausedInternal']=!0x0,PerfSightController['eca']=void 0x0,PerfSightController['IsEnable']=!0x0,PerfSightController['oWe']=new Set(),PerfSightController['MJ']=void 0x0,PerfSightController['tca']=()=>{},PerfSightController[a0_0x5bb605(0x125)]=()=>{},PerfSightController['Zpe']=_0x19c720=>{var _0x52c928=a0_0x5bb605,_0x223547=a0_0x53c401;_0x19c720?cpp_1['FKuroPerfSightHelper'][_0x52c928(0x121)]('Battle'):(cpp_1['FKuroPerfSightHelper']['EndExtTag'](_0x52c928(0xf1)),_a['swa']());},PerfSightController['lWe']=_0x272320=>{var _0x45248e=a0_0x5bb605;for(const _0xb0373e of _0x272320)_a[_0x45248e(0x10b)](_0xb0373e,!0x0);},PerfSightController['cWe']=_0x1b5e92=>{for(const _0x54b8a5 of _0x1b5e92)_a['awa'](_0x54b8a5,!0x1);};